{"ast":null,"code":"var _jsxFileName = \"/Users/Overseer/Desktop/fullstack_app/client/src/components/Forms/Signin.js\";\nimport React from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport 'bulma/css/bulma.css'; // import Debug from '../../utils/Debug'\n// import * as Yup from \"yup\"\n\nimport axios from \"axios\";\nimport Input from './Input';\nimport { connect } from 'react-redux';\nimport { signedIn } from '../../actions';\n\nconst Signin = ({\n  active,\n  err,\n  signedIn\n}) => {\n  if (err) {\n    Form.setFieldValue('success', 'Please login to view your profile');\n    Field.setTouched({\n      email: true,\n      password: true\n    });\n  }\n\n  return React.createElement(\"div\", {\n    style: {\n      display: active || err ? 'block' : 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"title is-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, \"Signin\"), React.createElement(Formik, {\n    initialValues: {\n      email: 'jasonli@mail.com',\n      password: 'Password1',\n      success: ''\n    },\n    onSubmit: (values, actions) => {\n      axios.post('http://localhost:3001/users/login', values).then(res => {\n        console.log(res);\n\n        if (res.status === 200) {\n          actions.setFieldValue('success', 'Success!');\n          setTimeout(() => {\n            signedIn(res.data);\n          }, 1500);\n        } else {\n          alert(res);\n        }\n      }).catch(err => {\n        if (err.response) {\n          actions.setErrors(err.response.data);\n        } else {\n          alert(err);\n        }\n      });\n      actions.setSubmitting(false);\n    },\n    render: ({\n      values,\n      isSubmitting,\n      setFieldValue,\n      setTouched\n    }) => React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, setFieldValue('success', 'Please login to view your profile'), React.createElement(Field, {\n      name: \"email\",\n      component: Input,\n      type: \"email\",\n      placeholder: \"e.g. jasonli@frontend.io\",\n      icons: {\n        left: 'envelope',\n        right: 'check'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(Field, {\n      name: \"password\",\n      component: Input,\n      type: \"password\",\n      placeholder: \"hhhhhhhh\",\n      icons: {\n        left: 'key',\n        right: 'check'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"button is-link\",\n      type: \"submit\",\n      disabled: isSubmitting,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Submit\"), values.success && React.createElement(\"article\", {\n      className: \"message is-success is-small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"message-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, values.success))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }));\n};\n\nconst mapStateToProps = state => {\n  return {\n    active: state.toggles.signin,\n    err: state.err.signin\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signedIn: id => {\n      return dispatch(signedIn(id));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Signin);","map":{"version":3,"sources":["/Users/Overseer/Desktop/fullstack_app/client/src/components/Forms/Signin.js"],"names":["React","Formik","Form","Field","axios","Input","connect","signedIn","Signin","active","err","setFieldValue","setTouched","email","password","display","success","values","actions","post","then","res","console","log","status","setTimeout","data","alert","catch","response","setErrors","setSubmitting","isSubmitting","left","right","mapStateToProps","state","toggles","signin","mapDispatchToProps","dispatch","id"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Formik, Form, Field } from 'formik'\nimport 'bulma/css/bulma.css'\n// import Debug from '../../utils/Debug'\n// import * as Yup from \"yup\"\nimport axios from \"axios\"\nimport Input from './Input'\nimport { connect } from 'react-redux'\nimport { signedIn } from '../../actions'\n\nconst Signin = ({ active, err, signedIn }) => {\n    if (err) {\n        Form.setFieldValue('success', 'Please login to view your profile')\n        Field.setTouched({ email: true, password: true })\n    }\n    return <div style={{ display: (active || err) ? 'block' : 'none' }}>\n        <h1 className=\"title is-4\">Signin</h1>\n        <Formik\n            initialValues={{\n                email: 'jasonli@mail.com',\n                password: 'Password1',\n                success: ''\n            }}\n            onSubmit={(values, actions) => {\n                axios.post('http://localhost:3001/users/login', values).then((res) => {\n                    console.log(res)\n                    if (res.status === 200) {\n                        actions.setFieldValue('success', 'Success!')\n                        setTimeout(() => {\n                            signedIn(res.data)\n                        }, 1500)\n                    } else {\n                        alert(res)\n                    }\n                }).catch((err) => {\n                    if (err.response) {\n                        actions.setErrors(err.response.data)\n                    } else {\n                        alert(err)\n                    }\n                })\n                actions.setSubmitting(false)\n            }\n            }\n\n            render={({ values, isSubmitting, setFieldValue, setTouched }) => (\n                <Form>\n                    {setFieldValue('success', 'Please login to view your profile')}\n                    <Field name=\"email\" component={Input} type=\"email\" placeholder=\"e.g. jasonli@frontend.io\" icons={{ left: 'envelope', right: 'check' }} />\n                    <Field name=\"password\" component={Input} type=\"password\" placeholder=\"hhhhhhhh\" icons={{ left: 'key', right: 'check' }} />\n                    <button className=\"button is-link\" type=\"submit\" disabled={isSubmitting}>Submit</button>\n                    {values.success && <article className=\"message is-success is-small\">\n                        <div className=\"message-body\">\n                            {values.success}\n                        </div>\n                    </article>}\n\n                    {/* <Debug /> */}\n                </Form>\n            )}\n        />\n    </div>\n}\n\nconst mapStateToProps = state => {\n    return {\n        active: state.toggles.signin,\n        err: state.err.signin\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        signedIn: (id) => { return dispatch(signedIn(id)) }\n    }\n}\n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Signin)"]},"metadata":{},"sourceType":"module"}