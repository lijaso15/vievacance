{"ast":null,"code":"var _jsxFileName = \"/Users/Overseer/Desktop/vievacance/client/src/components/ChangeSettings/ChangeSettings-view.js\";\nimport React from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport * as Yup from \"yup\";\nimport axios from \"axios\";\nimport Input from '../Forms/Input';\nimport PropTypes from 'prop-types';\nvar ChangeUsernameSchema = Yup.object().shape({\n  'new username': Yup.string().min(6, 'username must be at least 6 characters').max(24, 'username cannot be greater than 20 characters').required('username is required')\n});\n\nvar ChangeSettingsView = function ChangeSettingsView(_ref) {\n  var email = _ref.email,\n      username = _ref.username,\n      _id = _ref._id;\n  return React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, \" Email: \"), React.createElement(\"span\", {\n    className: \"subtitle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, \" \", email, \" \")), React.createElement(\"div\", {\n    className: \"columns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column is-one-third\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(Formik, {\n    initialValues: {\n      'new username': '',\n      success: ''\n    },\n    validationSchema: ChangeUsernameSchema,\n    onSubmit: function onSubmit(values, actions) {\n      axios.post(\"/users/changeusername/\".concat(_id), values).then(function (res) {\n        if (res.status === 200) {\n          actions.setFieldValue('success', \"Success! Your username has been changed to \".concat(values.newusername));\n        } else {\n          alert(res);\n        }\n      }).catch(function (err) {\n        if (err.response) {\n          actions.setErrors(err.response.data);\n        } else {\n          alert(err);\n        }\n      });\n    },\n    render: function render(_ref2) {\n      var values = _ref2.values,\n          isSubmitting = _ref2.isSubmitting;\n      return React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(Field, {\n        name: \"new username\",\n        component: Input,\n        type: \"text\",\n        placeholder: username,\n        icons: {\n          left: 'user',\n          right: 'check'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"button is-link\",\n        type: \"submit\",\n        disabled: isSubmitting,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Change Username\"), values.success && React.createElement(\"article\", {\n        className: \"message is-success is-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"message-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, values.success)));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"column is-one-third\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(Formik, {\n    initialValues: {\n      username: '',\n      success: ''\n    },\n    validationSchema: ChangeUsernameSchema,\n    onSubmit: function onSubmit(values, actions) {// axios.post\n    },\n    render: function render(_ref3) {\n      var values = _ref3.values,\n          isSubmitting = _ref3.isSubmitting;\n      return React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Field, {\n        name: \"username\",\n        component: Input,\n        type: \"text\",\n        placeholder: username,\n        icons: {\n          left: 'user',\n          right: 'check'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"button is-link\",\n        type: \"submit\",\n        disabled: isSubmitting,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Change Username\"), values.success && React.createElement(\"article\", {\n        className: \"message is-success is-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"message-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, values.success)));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }))));\n};\n\nChangeSettingsView.propTypes = {\n  email: PropTypes.string.isRequired,\n  username: PropTypes.string.isRequired,\n  _id: PropTypes.string.isRequired\n};\nexport default ChangeSettingsView;","map":{"version":3,"sources":["/Users/Overseer/Desktop/vievacance/client/src/components/ChangeSettings/ChangeSettings-view.js"],"names":["React","Formik","Form","Field","Yup","axios","Input","PropTypes","ChangeUsernameSchema","object","shape","string","min","max","required","ChangeSettingsView","email","username","_id","success","values","actions","post","then","res","status","setFieldValue","newusername","alert","catch","err","response","setErrors","data","isSubmitting","left","right","propTypes","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Formik, Form, Field } from 'formik'\nimport * as Yup from \"yup\"\nimport axios from \"axios\"\nimport Input from '../Forms/Input'\nimport PropTypes from 'prop-types'\n\nconst ChangeUsernameSchema = Yup.object().shape({\n    'new username': Yup.string()\n        .min(6, 'username must be at least 6 characters')\n        .max(24, 'username cannot be greater than 20 characters')\n        .required('username is required')\n})\n\n\nconst ChangeSettingsView = ({ email, username, _id }) => {\n    return <div className=\"column\">\n        <div>\n            <b> Email: </b>\n            <span className=\"subtitle\"> {email} </span>\n\n        </div>\n\n        <div className=\"columns\">\n            <div className=\"column is-one-third\">\n                <Formik\n                    initialValues={{\n                        'new username': '',\n                        success: ''\n                    }}\n                    validationSchema={ChangeUsernameSchema}\n                    onSubmit={(values, actions) => {\n                        axios.post(`/users/changeusername/${_id}`, values).then(res => {\n                            if (res.status === 200) {\n                                actions.setFieldValue('success', `Success! Your username has been changed to ${values.newusername}`)\n                            } else {\n                                alert(res)\n                            }\n                        }).catch(err => {\n                            if (err.response) {\n                                actions.setErrors(err.response.data)\n                            } else {\n                                alert(err)\n                            }\n                        })\n                    }}\n                    render={({ values, isSubmitting }) => (\n                        <Form>\n                            <Field name=\"new username\" component={Input} type=\"text\" placeholder={username} icons={{ left: 'user', right: 'check' }} />\n                            <button className=\"button is-link\" type=\"submit\" disabled={isSubmitting}>Change Username</button>\n                            {values.success && <article className=\"message is-success is-small\">\n                                <div className=\"message-body\">\n                                    {values.success}\n                                </div>\n                            </article>}\n                        </Form>\n                    )}\n                />\n            </div>\n            <div className=\"column is-one-third\">\n                <Formik\n                    initialValues={{\n                        username: '',\n                        success: ''\n                    }}\n                    validationSchema={ChangeUsernameSchema}\n                    onSubmit={(values, actions) => {\n                        // axios.post\n                    }}\n                    render={({ values, isSubmitting }) => (\n                        <Form>\n                            <Field name=\"username\" component={Input} type=\"text\" placeholder={username} icons={{ left: 'user', right: 'check' }} />\n                            <button className=\"button is-link\" type=\"submit\" disabled={isSubmitting}>Change Username</button>\n                            {values.success && <article className=\"message is-success is-small\">\n                                <div className=\"message-body\">\n                                    {values.success}\n                                </div>\n                            </article>}\n                        </Form>\n                    )}\n                />\n            </div>\n        </div>\n    </div>\n}\n\n\nChangeSettingsView.propTypes = {\n    email: PropTypes.string.isRequired,\n    username: PropTypes.string.isRequired,\n    _id: PropTypes.string.isRequired\n}\n\nexport default ChangeSettingsView"]},"metadata":{},"sourceType":"module"}