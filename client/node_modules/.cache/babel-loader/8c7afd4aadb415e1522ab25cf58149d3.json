{"ast":null,"code":"import _objectSpread from \"/Users/Overseer/Desktop/vievacance/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/Overseer/Desktop/vievacance/client/src/routes/Profile/Profile-view.js\";\nimport React from 'react';\nimport Drawer from '../../components/Drawer';\nimport Footer from '../../components/Footer';\nimport NavbarOther from '../../components/Navbar/NavbarOther';\nimport { setSignedIn as _setSignedIn, setViewer as _setViewer, setOwner as _setOwner, loadData as _loadData, newSlide as _newSlide, setRepeat as _setRepeat } from '../../actions';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport Memento from '../../components/Cards/Mementos';\n\nvar ProfileView = function ProfileView(_ref) {\n  var setSignedIn = _ref.setSignedIn,\n      setOwner = _ref.setOwner,\n      setViewer = _ref.setViewer,\n      match = _ref.match,\n      fullAccess = _ref.fullAccess,\n      loadData = _ref.loadData,\n      newSlide = _ref.newSlide,\n      setRepeat = _ref.setRepeat,\n      wasCalled = _ref.wasCalled;\n  axios.get('/users').then(function (res) {\n    setSignedIn(res.data._id);\n    setViewer(res.data._id);\n  }).catch(function (err) {\n    return alert(err);\n  });\n  axios.get(\"/users/\".concat(match.params.id)).then(function (res) {\n    // console.log(res.data)\n    setOwner(res.data);\n  }).catch(function (err) {\n    return alert(err);\n  });\n\n  if (!wasCalled) {\n    axios.get(\"/mementos/user/\".concat(match.params.id)).then(function (res) {\n      if (res.status === 200) {\n        console.log(res.data);\n        res.data.map(function (mem) {\n          newSlide();\n          axios.get(\"/users/\".concat(mem.owner)).then(function (r) {\n            loadData(_objectSpread({}, mem, {\n              username: r.data.username,\n              profilePicture: r.data.profilePicture\n            }), 'MEMENTOS');\n          });\n        });\n      } else {\n        alert(res);\n      }\n    }).catch(function (err) {\n      return alert(err);\n    });\n  }\n\n  setRepeat();\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(NavbarOther, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"columns\",\n    style: {\n      minHeight: '-webkit-fill-available',\n      paddingTop: '3.25rem'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(Drawer, {\n    location: \"/profile\",\n    fullAccess: fullAccess,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(Memento, {\n    fullAccess: fullAccess,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  })), React.createElement(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  if (!state.perspective.owner._id) {\n    return {\n      wasCalled: state.err.repeat,\n      fullAccess: true\n    };\n  } else {\n    return {\n      wasCalled: state.err.repeat,\n      fullAccess: state.perspective.viewer === state.perspective.owner._id\n    };\n  }\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setSignedIn: function setSignedIn(id) {\n      return dispatch(_setSignedIn(id));\n    },\n    setOwner: function setOwner(id) {\n      return dispatch(_setOwner(id));\n    },\n    setViewer: function setViewer(id) {\n      return dispatch(_setViewer(id));\n    },\n    loadData: function loadData(id, label) {\n      return dispatch(_loadData(id, label));\n    },\n    newSlide: function newSlide() {\n      return dispatch(_newSlide());\n    },\n    setRepeat: function setRepeat() {\n      return dispatch(_setRepeat());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileView);","map":{"version":3,"sources":["/Users/Overseer/Desktop/vievacance/client/src/routes/Profile/Profile-view.js"],"names":["React","Drawer","Footer","NavbarOther","setSignedIn","setViewer","setOwner","loadData","newSlide","setRepeat","connect","axios","Memento","ProfileView","match","fullAccess","wasCalled","get","then","res","data","_id","catch","err","alert","params","id","status","console","log","map","mem","owner","r","username","profilePicture","minHeight","paddingTop","mapStateToProps","state","perspective","repeat","viewer","mapDispatchToProps","dispatch","label"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,WAAP,MAAwB,qCAAxB;AACA,SAASC,WAAW,IAAXA,YAAT,EAAsBC,SAAS,IAATA,UAAtB,EAAiCC,QAAQ,IAARA,SAAjC,EAA2CC,QAAQ,IAARA,SAA3C,EAAqDC,QAAQ,IAARA,SAArD,EAA+DC,SAAS,IAATA,UAA/D,QAAgF,eAAhF;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,iCAApB;;AAIA,IAAMC,WAAW,GAAG,SAAdA,WAAc,OAAuG;AAAA,MAApGT,WAAoG,QAApGA,WAAoG;AAAA,MAAvFE,QAAuF,QAAvFA,QAAuF;AAAA,MAA7ED,SAA6E,QAA7EA,SAA6E;AAAA,MAAlES,KAAkE,QAAlEA,KAAkE;AAAA,MAA3DC,UAA2D,QAA3DA,UAA2D;AAAA,MAA/CR,QAA+C,QAA/CA,QAA+C;AAAA,MAArCC,QAAqC,QAArCA,QAAqC;AAAA,MAA3BC,SAA2B,QAA3BA,SAA2B;AAAA,MAAhBO,SAAgB,QAAhBA,SAAgB;AAEvHL,EAAAA,KAAK,CAACM,GAAN,CAAU,QAAV,EAAoBC,IAApB,CAAyB,UAAAC,GAAG,EAAI;AAC5Bf,IAAAA,WAAW,CAACe,GAAG,CAACC,IAAJ,CAASC,GAAV,CAAX;AACAhB,IAAAA,SAAS,CAACc,GAAG,CAACC,IAAJ,CAASC,GAAV,CAAT;AAEH,GAJD,EAIGC,KAJH,CAIS,UAAAC,GAAG;AAAA,WAAIC,KAAK,CAACD,GAAD,CAAT;AAAA,GAJZ;AAMAZ,EAAAA,KAAK,CAACM,GAAN,kBAAoBH,KAAK,CAACW,MAAN,CAAaC,EAAjC,GAAuCR,IAAvC,CAA4C,UAAAC,GAAG,EAAI;AAC/C;AACAb,IAAAA,QAAQ,CAACa,GAAG,CAACC,IAAL,CAAR;AACH,GAHD,EAGGE,KAHH,CAGS,UAAAC,GAAG;AAAA,WAAIC,KAAK,CAACD,GAAD,CAAT;AAAA,GAHZ;;AAKA,MAAI,CAACP,SAAL,EAAgB;AACZL,IAAAA,KAAK,CAACM,GAAN,0BAA4BH,KAAK,CAACW,MAAN,CAAaC,EAAzC,GAA+CR,IAA/C,CAAoD,UAAAC,GAAG,EAAI;AACvD,UAAIA,GAAG,CAACQ,MAAJ,KAAe,GAAnB,EAAwB;AACpBC,QAAAA,OAAO,CAACC,GAAR,CAAYV,GAAG,CAACC,IAAhB;AACAD,QAAAA,GAAG,CAACC,IAAJ,CAASU,GAAT,CAAa,UAACC,GAAD,EAAS;AAClBvB,UAAAA,QAAQ;AACRG,UAAAA,KAAK,CAACM,GAAN,kBAAoBc,GAAG,CAACC,KAAxB,GAAiCd,IAAjC,CAAsC,UAAAe,CAAC,EAAI;AACvC1B,YAAAA,QAAQ,mBACDwB,GADC;AAEJG,cAAAA,QAAQ,EAAED,CAAC,CAACb,IAAF,CAAOc,QAFb;AAGJC,cAAAA,cAAc,EAAEF,CAAC,CAACb,IAAF,CAAOe;AAHnB,gBAIL,UAJK,CAAR;AAKH,WAND;AAOH,SATD;AAUH,OAZD,MAYO;AACHX,QAAAA,KAAK,CAACL,GAAD,CAAL;AACH;AACJ,KAhBD,EAgBGG,KAhBH,CAgBS,UAAAC,GAAG;AAAA,aAAIC,KAAK,CAACD,GAAD,CAAT;AAAA,KAhBZ;AAiBH;;AACDd,EAAAA,SAAS;AACT,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAK,IAAA,SAAS,EAAC,SAAf;AACI,IAAA,KAAK,EAAE;AACH2B,MAAAA,SAAS,EAAE,wBADR;AAEHC,MAAAA,UAAU,EAAE;AAFT,KADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKI,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAC,UAAjB;AAA4B,IAAA,UAAU,EAAEtB,UAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,EAMI,oBAAC,OAAD;AAAS,IAAA,UAAU,EAAEA,UAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,CAFJ,EAWI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXJ,CADJ;AAeH,CAhDD;;AAkDA,IAAMuB,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK,EAAI;AAC7B,MAAI,CAACA,KAAK,CAACC,WAAN,CAAkBR,KAAlB,CAAwBX,GAA7B,EAAkC;AAC9B,WAAO;AACHL,MAAAA,SAAS,EAAEuB,KAAK,CAAChB,GAAN,CAAUkB,MADlB;AAEH1B,MAAAA,UAAU,EAAE;AAFT,KAAP;AAIH,GALD,MAKO;AACH,WAAO;AACHC,MAAAA,SAAS,EAAEuB,KAAK,CAAChB,GAAN,CAAUkB,MADlB;AAEH1B,MAAAA,UAAU,EAAGwB,KAAK,CAACC,WAAN,CAAkBE,MAAlB,KAA6BH,KAAK,CAACC,WAAN,CAAkBR,KAAlB,CAAwBX;AAF/D,KAAP;AAIH;AACJ,CAZD;;AAcA,IAAMsB,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ,EAAI;AACnC,SAAO;AACHxC,IAAAA,WAAW,EAAE,qBAAAsB,EAAE;AAAA,aAAIkB,QAAQ,CAACxC,YAAW,CAACsB,EAAD,CAAZ,CAAZ;AAAA,KADZ;AAEHpB,IAAAA,QAAQ,EAAE,kBAAAoB,EAAE;AAAA,aAAIkB,QAAQ,CAACtC,SAAQ,CAACoB,EAAD,CAAT,CAAZ;AAAA,KAFT;AAGHrB,IAAAA,SAAS,EAAE,mBAAAqB,EAAE;AAAA,aAAIkB,QAAQ,CAACvC,UAAS,CAACqB,EAAD,CAAV,CAAZ;AAAA,KAHV;AAIHnB,IAAAA,QAAQ,EAAE,kBAACmB,EAAD,EAAKmB,KAAL;AAAA,aAAeD,QAAQ,CAACrC,SAAQ,CAACmB,EAAD,EAAKmB,KAAL,CAAT,CAAvB;AAAA,KAJP;AAKHrC,IAAAA,QAAQ,EAAE;AAAA,aAAMoC,QAAQ,CAACpC,SAAQ,EAAT,CAAd;AAAA,KALP;AAMHC,IAAAA,SAAS,EAAE;AAAA,aAAMmC,QAAQ,CAACnC,UAAS,EAAV,CAAd;AAAA;AANR,GAAP;AAQH,CATD;;AAWA,eAAeC,OAAO,CAAC4B,eAAD,EAAkBK,kBAAlB,CAAP,CAA6C9B,WAA7C,CAAf","sourcesContent":["import React from 'react'\nimport Drawer from '../../components/Drawer'\nimport Footer from '../../components/Footer'\nimport NavbarOther from '../../components/Navbar/NavbarOther'\nimport { setSignedIn, setViewer, setOwner, loadData, newSlide, setRepeat } from '../../actions'\nimport { connect } from 'react-redux'\nimport axios from 'axios'\nimport Memento from '../../components/Cards/Mementos'\n\n\n\nconst ProfileView = ({ setSignedIn, setOwner, setViewer, match, fullAccess, loadData, newSlide, setRepeat, wasCalled }) => {\n\n    axios.get('/users').then(res => {\n        setSignedIn(res.data._id)\n        setViewer(res.data._id)\n\n    }).catch(err => alert(err))\n\n    axios.get(`/users/${match.params.id}`).then(res => {\n        // console.log(res.data)\n        setOwner(res.data)\n    }).catch(err => alert(err))\n\n    if (!wasCalled) {\n        axios.get(`/mementos/user/${match.params.id}`).then(res => {\n            if (res.status === 200) {\n                console.log(res.data)\n                res.data.map((mem) => {\n                    newSlide()\n                    axios.get(`/users/${mem.owner}`).then(r => {\n                        loadData({\n                            ...mem,\n                            username: r.data.username,\n                            profilePicture: r.data.profilePicture\n                        }, 'MEMENTOS')\n                    })\n                })\n            } else {\n                alert(res)\n            }\n        }).catch(err => alert(err))\n    }\n    setRepeat()\n    return (\n        <div>\n            <NavbarOther />\n            <div className='columns'\n                style={{\n                    minHeight: '-webkit-fill-available',\n                    paddingTop: '3.25rem'\n                }}>\n                <Drawer location='/profile' fullAccess={fullAccess} />\n                <Memento fullAccess={fullAccess} />\n\n            </div>\n            <Footer />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    if (!state.perspective.owner._id) {\n        return {\n            wasCalled: state.err.repeat,\n            fullAccess: true\n        }\n    } else {\n        return {\n            wasCalled: state.err.repeat,\n            fullAccess: (state.perspective.viewer === state.perspective.owner._id)\n        }\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setSignedIn: id => dispatch(setSignedIn(id)),\n        setOwner: id => dispatch(setOwner(id)),\n        setViewer: id => dispatch(setViewer(id)),\n        loadData: (id, label) => dispatch(loadData(id, label)),\n        newSlide: () => dispatch(newSlide()),\n        setRepeat: () => dispatch(setRepeat())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileView)\n\n\n"]},"metadata":{},"sourceType":"module"}