{"ast":null,"code":"var _jsxFileName = \"/Users/Overseer/Desktop/vievacance/client/src/components/ChangeSettings/ChangeSettings-view.js\";\nimport React from 'react';\nimport { Formik, Form, Field } from 'formik';\nimport * as Yup from \"yup\";\nimport axios from \"axios\";\nimport Input from '../Forms/Input';\nimport PropTypes from 'prop-types';\nvar ChangeUsernameSchema = Yup.object().shape({\n  'new username:': Yup.string().min(6, 'username must be at least 6 characters').max(24, 'username cannot be greater than 20 characters').required('username is required')\n});\nvar ChangePasswordSchema = Yup.object().shape({\n  'new password:': Yup.string().min(6, 'password must be at least 6 characters').max(20, 'password cannot be greater than 20 characters').matches(/^(?=.*[a-z])/g, 'The password must contain at least 1 lowercase alphabetical character').matches(/^(?=.*[A-Z])/g, 'The password must contain at least 1 uppercase alphabetical character').matches(/^(?=.*[0-9])/g, 'The password must contain at least 1 numeric character').required('Required')\n});\n\nvar ChangeSettingsView = function ChangeSettingsView(_ref) {\n  var email = _ref.email,\n      username = _ref.username,\n      _id = _ref._id;\n  return React.createElement(\"div\", {\n    className: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, \" Email: \"), React.createElement(\"span\", {\n    className: \"subtitle is-link\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \" \", email, \" \")), React.createElement(\"div\", {\n    className: \"columns\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"column is-one-third\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(Formik, {\n    initialValues: {\n      'new username:': '',\n      success: ''\n    },\n    validationSchema: ChangeUsernameSchema,\n    onSubmit: function onSubmit(values, actions) {\n      axios.post(\"/users/changeusername/\".concat(_id), values).then(function (res) {\n        if (res.status === 200) {\n          actions.setFieldValue('success', \"Success! Your username has been changed to \".concat(values['new username:']));\n        } else {\n          alert(res);\n        }\n      }).catch(function (err) {\n        if (err.response) {\n          actions.setErrors(err.response.data);\n        } else {\n          alert(err);\n        }\n      });\n    },\n    render: function render(_ref2) {\n      var values = _ref2.values,\n          isSubmitting = _ref2.isSubmitting;\n      return React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(Field, {\n        name: \"new username:\",\n        component: Input,\n        type: \"text\",\n        placeholder: username,\n        icons: {\n          left: 'user',\n          right: 'check'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"button is-link\",\n        type: \"submit\",\n        disabled: isSubmitting,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Change Username\"), values.success && React.createElement(\"article\", {\n        className: \"message is-success is-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"message-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, values.success)));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"column is-one-third\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(Formik, {\n    initialValues: {\n      'new password:': '',\n      success: ''\n    },\n    validationSchema: ChangePasswordSchema,\n    onSubmit: function onSubmit(values, actions) {\n      axios.post(\"/users/changepassword/\".concat(_id), values).then(function (res) {\n        if (res.status === 200) {\n          actions.setFieldValue('success', \"Success! Your password has been changed!\");\n        } else {\n          alert(res);\n        }\n      }).catch(function (err) {\n        if (err.response) {\n          actions.setErrors({\n            'new password:': 'An error has occurred. Please try again later'\n          });\n        } else {\n          alert(err);\n        }\n      });\n    },\n    render: function render(_ref3) {\n      var values = _ref3.values,\n          isSubmitting = _ref3.isSubmitting;\n      return React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Field, {\n        name: \"new password:\",\n        component: Input,\n        type: \"password\",\n        placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n        icons: {\n          left: 'key',\n          right: 'check'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"button is-link\",\n        type: \"submit\",\n        disabled: isSubmitting,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Change Password\"), values.success && React.createElement(\"article\", {\n        className: \"message is-success is-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"message-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, values.success)));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }))));\n};\n\nChangeSettingsView.propTypes = {\n  email: PropTypes.string.isRequired,\n  username: PropTypes.string.isRequired,\n  _id: PropTypes.string.isRequired\n};\nexport default ChangeSettingsView;","map":{"version":3,"sources":["/Users/Overseer/Desktop/vievacance/client/src/components/ChangeSettings/ChangeSettings-view.js"],"names":["React","Formik","Form","Field","Yup","axios","Input","PropTypes","ChangeUsernameSchema","object","shape","string","min","max","required","ChangePasswordSchema","matches","ChangeSettingsView","email","username","_id","success","values","actions","post","then","res","status","setFieldValue","alert","catch","err","response","setErrors","data","isSubmitting","left","right","propTypes","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Formik, Form, Field } from 'formik'\nimport * as Yup from \"yup\"\nimport axios from \"axios\"\nimport Input from '../Forms/Input'\nimport PropTypes from 'prop-types'\n\nconst ChangeUsernameSchema = Yup.object().shape({\n    'new username:': Yup.string()\n        .min(6, 'username must be at least 6 characters')\n        .max(24, 'username cannot be greater than 20 characters')\n        .required('username is required')\n})\n\nconst ChangePasswordSchema = Yup.object().shape({\n    'new password:': Yup.string()\n        .min(6, 'password must be at least 6 characters')\n        .max(20, 'password cannot be greater than 20 characters')\n        .matches(/^(?=.*[a-z])/g, 'The password must contain at least 1 lowercase alphabetical character')\n        .matches(/^(?=.*[A-Z])/g, 'The password must contain at least 1 uppercase alphabetical character')\n        .matches(/^(?=.*[0-9])/g, 'The password must contain at least 1 numeric character')\n        .required('Required')\n});\n\n\nconst ChangeSettingsView = ({ email, username, _id }) => {\n    return <div className=\"column\">\n        <div>\n            <b> Email: </b>\n            <span className=\"subtitle is-link\"> {email} </span>\n\n        </div>\n\n        <div className=\"columns\">\n            <div className=\"column is-one-third\">\n                <Formik\n                    initialValues={{\n                        'new username:': '',\n                        success: ''\n                    }}\n                    validationSchema={ChangeUsernameSchema}\n                    onSubmit={(values, actions) => {\n                        axios.post(`/users/changeusername/${_id}`, values).then(res => {\n                            if (res.status === 200) {\n                                actions.setFieldValue('success', `Success! Your username has been changed to ${values['new username:']}`)\n                            } else {\n                                alert(res)\n                            }\n                        }).catch(err => {\n                            if (err.response) {\n                                actions.setErrors(err.response.data)\n                            } else {\n                                alert(err)\n                            }\n                        })\n                    }}\n                    render={({ values, isSubmitting }) => (\n                        <Form>\n                            <Field name=\"new username:\" component={Input} type=\"text\" placeholder={username} icons={{ left: 'user', right: 'check' }} />\n                            <button className=\"button is-link\" type=\"submit\" disabled={isSubmitting}>Change Username</button>\n                            {values.success && <article className=\"message is-success is-small\">\n                                <div className=\"message-body\">\n                                    {values.success}\n                                </div>\n                            </article>}\n                        </Form>\n                    )}\n                />\n            </div>\n            <div className=\"column is-one-third\">\n                <Formik\n                    initialValues={{\n                        'new password:': '',\n                        success: ''\n                    }}\n                    validationSchema={ChangePasswordSchema}\n                    onSubmit={(values, actions) => {\n                        axios.post(`/users/changepassword/${_id}`, values).then(res => {\n                            if (res.status === 200) {\n                                actions.setFieldValue('success', `Success! Your password has been changed!`)\n                            } else {\n                                alert(res)\n                            }\n                        }).catch(err => {\n                            if (err.response) {\n                                actions.setErrors({ 'new password:': 'An error has occurred. Please try again later' })\n                            } else {\n                                alert(err)\n                            }\n                        })\n                    }}\n                    render={({ values, isSubmitting }) => (\n                        <Form>\n                            <Field name=\"new password:\" component={Input} type=\"password\" placeholder=\"•••••••\" icons={{ left: 'key', right: 'check' }} />\n                            <button className=\"button is-link\" type=\"submit\" disabled={isSubmitting}>Change Password</button>\n                            {values.success && <article className=\"message is-success is-small\">\n                                <div className=\"message-body\">\n                                    {values.success}\n                                </div>\n                            </article>}\n                        </Form>\n                    )}\n                />\n            </div>\n        </div>\n    </div>\n}\n\n\nChangeSettingsView.propTypes = {\n    email: PropTypes.string.isRequired,\n    username: PropTypes.string.isRequired,\n    _id: PropTypes.string.isRequired\n}\n\nexport default ChangeSettingsView"]},"metadata":{},"sourceType":"module"}