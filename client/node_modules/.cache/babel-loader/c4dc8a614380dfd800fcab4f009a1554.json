{"ast":null,"code":"/**\r\n * Grip module.\r\n */\nimport * as tslib_1 from \"tslib\";\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\n\nimport { Button } from \"./Button\";\nimport { Sprite } from \"../Sprite\";\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\nimport { registry } from \"../Registry\";\nimport { percent } from \"../utils/Percent\";\nimport * as $path from \"../rendering/Path\";\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\n\n/**\r\n * Creates a grip element that can be used for scrolling or other things.\r\n *\r\n * @see {@link IGripEvents} for a list of available events\r\n * @see {@link IGripAdapters} for a list of available Adapters\r\n * @since 4.4.0\r\n */\n\nvar Grip =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(Grip, _super);\n  /**\r\n   * Constructor\r\n   */\n\n\n  function Grip() {\n    var _this = // Init\n    _super.call(this) || this;\n\n    _this.className = \"Grip\";\n    var cs = new InterfaceColorSet(); // Set defaults\n\n    _this.layout = \"absolute\";\n\n    _this.padding(10, 10, 10, 10);\n\n    _this.margin(3, 3, 3, 3);\n\n    _this.background.fillOpacity = 0.3;\n\n    _this.background.cornerRadius(10, 10, 10, 10); // Create an icon\n\n\n    var icon = new Sprite();\n    icon.element = _this.paper.add(\"path\");\n    var path = $path.moveTo({\n      x: -6,\n      y: 0\n    });\n    path += $path.lineTo({\n      x: 6,\n      y: 0\n    });\n    path += $path.moveTo({\n      x: -8,\n      y: -6\n    });\n    path += $path.lineTo({\n      x: 0,\n      y: -12\n    });\n    path += $path.lineTo({\n      x: 8,\n      y: -6\n    });\n    path += $path.moveTo({\n      x: -8,\n      y: 6\n    });\n    path += $path.lineTo({\n      x: 0,\n      y: 12\n    });\n    path += $path.lineTo({\n      x: 8,\n      y: 6\n    });\n    icon.path = path;\n    icon.strokeWidth = 2;\n    icon.fillOpacity = 0;\n    icon.pixelPerfect = true;\n    icon.padding(0, 4, 0, 4);\n    icon.stroke = cs.getFor(\"text\");\n    icon.strokeOpacity = 0.7;\n    icon.align = \"center\";\n    icon.valign = \"middle\";\n    _this.icon = icon;\n\n    _this.label.dispose();\n\n    _this.label = undefined; // Set default position\n\n    _this.position = \"right\"; // Set up autohide\n\n    _this.autoHideDelay = 3000;\n\n    _this.events.on(\"shown\", function (ev) {\n      if (_this._autoHideTimeout) {\n        _this._autoHideTimeout.dispose();\n      }\n\n      if (_this.autoHideDelay) {\n        _this._autoHideTimeout = _this.setTimeout(function () {\n          _this.hide();\n        }, _this.autoHideDelay);\n      }\n    });\n\n    _this.events.on(\"down\", function (ev) {\n      if (_this._autoHideTimeout) {\n        _this._autoHideTimeout.dispose();\n      }\n    });\n\n    _this.events.on(\"out\", function (ev) {\n      if (_this.autoHideDelay) {\n        _this._autoHideTimeout = _this.setTimeout(function () {\n          _this.hide();\n        }, _this.autoHideDelay);\n      }\n    }); // Apply theme\n\n\n    _this.applyTheme();\n\n    return _this;\n  }\n\n  Object.defineProperty(Grip.prototype, \"position\", {\n    /**\r\n     * @return Position\r\n     */\n    get: function () {\n      return this.getPropertyValue(\"position\");\n    },\n\n    /**\r\n     * Sets position of the grip.\r\n     *\r\n     * Available options: \"left\", \"right\" (default), \"top\", \"bottom\".\r\n     *\r\n     * @param  value  Position\r\n     */\n    set: function (value) {\n      if (this.setPropertyValue(\"position\", value)) {\n        switch (value) {\n          case \"left\":\n            this.align = \"left\";\n            this.valign = \"middle\";\n            this.horizontalCenter = \"left\";\n            this.verticalCenter = \"middle\";\n            this.icon.rotation = 0;\n            this.width = undefined;\n            this.height = percent(30);\n            break;\n\n          case \"right\":\n            this.align = \"right\";\n            this.valign = \"middle\";\n            this.horizontalCenter = \"right\";\n            this.verticalCenter = \"middle\";\n            this.icon.rotation = 0;\n            this.width = undefined;\n            this.height = percent(30);\n            break;\n\n          case \"top\":\n            this.align = \"center\";\n            this.valign = \"top\";\n            this.horizontalCenter = \"middle\";\n            this.verticalCenter = \"top\";\n            this.icon.rotation = 90;\n            this.width = percent(30);\n            this.height = undefined;\n            break;\n\n          case \"bottom\":\n            this.align = \"center\";\n            this.valign = \"bottom\";\n            this.horizontalCenter = \"middle\";\n            this.verticalCenter = \"bottom\";\n            this.icon.rotation = 90;\n            this.width = percent(30);\n            this.height = undefined;\n            break;\n\n          default:\n            this.align = \"center\";\n            this.valign = \"middle\";\n            this.horizontalCenter = \"middle\";\n            this.verticalCenter = \"middle\";\n            this.icon.rotation = 90;\n            this.width = percent(30);\n            this.height = undefined;\n        }\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Grip.prototype, \"autoHideDelay\", {\n    /**\r\n     * @return Delay\r\n     */\n    get: function () {\n      return this.getPropertyValue(\"autoHideDelay\");\n    },\n\n    /**\r\n     * Number of milliseconds to show grip until it is hidden automatically.\r\n     *\r\n     * @default 3000\r\n     * @param  value  Delay\r\n     */\n    set: function (value) {\n      this.setPropertyValue(\"autoHideDelay\", value);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return Grip;\n}(Button);\n\nexport { Grip };\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\n\nregistry.registeredClasses[\"Grip\"] = Grip;","map":null,"metadata":{},"sourceType":"module"}