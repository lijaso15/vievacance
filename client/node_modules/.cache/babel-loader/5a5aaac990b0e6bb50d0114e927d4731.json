{"ast":null,"code":"var _jsxFileName = \"/Users/Overseer/Desktop/vievacance/client/src/components/ManageMementos/CreateMementos/CreateMementos-container.js\";\nimport React from 'react';\nimport CreateMementosView from './CreateMementos-view';\nimport axios from 'axios';\n\nvar CreateMementos = function CreateMementos(_ref) {\n  var owner = _ref.owner,\n      selectedPhotos = _ref.selectedPhotos,\n      cities = _ref.cities,\n      setError = _ref.setError,\n      message = _ref.message;\n  return React.createElement(CreateMementosView, {\n    owner: owner,\n    message: message,\n    createMemento: function createMemento() {\n      if (!document.querySelector('select').selectedIndex) {\n        setError('ERR_EDIT', 'Select a city');\n        return;\n      } else {\n        var city = cities[document.querySelector('select').selectedIndex - 1].city;\n        var country = cities[document.querySelector('select').selectedIndex - 1].country;\n        var description = document.querySelector('textarea').value;\n        var photos = selectedPhotos.map(function (p) {\n          return p.id;\n        });\n\n        if (!photos.length) {\n          setError('ERR_EDIT', 'Select one or more photos');\n          return;\n        } else if (!description) {\n          setError('ERR_EDIT', 'Write about your trip');\n          return;\n        } else {\n          axios.post(\"/mementos/\".concat(owner), {\n            description: description,\n            photos: photos,\n            city: city,\n            country: country\n          }).then(function (res) {\n            if (res.status === 200) {\n              setError('ERR_EDIT', 'Success!');\n              setTimeout(function () {\n                return window.location.reload();\n              }, 1000);\n            }\n          }).catch(function (err) {\n            return alert(err);\n          });\n        }\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6\n    },\n    __self: this\n  });\n};\n\nexport default CreateMementos;","map":{"version":3,"sources":["/Users/Overseer/Desktop/vievacance/client/src/components/ManageMementos/CreateMementos/CreateMementos-container.js"],"names":["React","CreateMementosView","axios","CreateMementos","owner","selectedPhotos","cities","setError","message","document","querySelector","selectedIndex","city","country","description","value","photos","map","p","id","length","post","then","res","status","setTimeout","window","location","reload","catch","err","alert"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,kBAAP,MAA+B,uBAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,OAA0D;AAAA,MAAvDC,KAAuD,QAAvDA,KAAuD;AAAA,MAAhDC,cAAgD,QAAhDA,cAAgD;AAAA,MAAhCC,MAAgC,QAAhCA,MAAgC;AAAA,MAAxBC,QAAwB,QAAxBA,QAAwB;AAAA,MAAdC,OAAc,QAAdA,OAAc;AAC7E,SAAO,oBAAC,kBAAD;AAAoB,IAAA,KAAK,EAAEJ,KAA3B;AAAkC,IAAA,OAAO,EAAEI,OAA3C;AACH,IAAA,aAAa,EAAE,yBAAM;AACjB,UAAI,CAACC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCC,aAAtC,EAAqD;AACjDJ,QAAAA,QAAQ,CAAC,UAAD,EAAa,eAAb,CAAR;AACA;AACH,OAHD,MAGO;AACH,YAAMK,IAAI,GAAGN,MAAM,CAACG,QAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCC,aAAjC,GAAiD,CAAlD,CAAN,CAA2DC,IAAxE;AACA,YAAMC,OAAO,GAAGP,MAAM,CAACG,QAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCC,aAAjC,GAAiD,CAAlD,CAAN,CAA2DE,OAA3E;AACA,YAAMC,WAAW,GAAGL,QAAQ,CAACC,aAAT,CAAuB,UAAvB,EAAmCK,KAAvD;AACA,YAAMC,MAAM,GAAGX,cAAc,CAACY,GAAf,CAAmB,UAAAC,CAAC;AAAA,iBAAIA,CAAC,CAACC,EAAN;AAAA,SAApB,CAAf;;AAEA,YAAI,CAACH,MAAM,CAACI,MAAZ,EAAoB;AAChBb,UAAAA,QAAQ,CAAC,UAAD,EAAa,2BAAb,CAAR;AACA;AACH,SAHD,MAGO,IAAI,CAACO,WAAL,EAAkB;AACrBP,UAAAA,QAAQ,CAAC,UAAD,EAAa,uBAAb,CAAR;AACA;AACH,SAHM,MAGA;AACHL,UAAAA,KAAK,CAACmB,IAAN,qBAAwBjB,KAAxB,GAAiC;AAAEU,YAAAA,WAAW,EAAXA,WAAF;AAAeE,YAAAA,MAAM,EAANA,MAAf;AAAuBJ,YAAAA,IAAI,EAAJA,IAAvB;AAA6BC,YAAAA,OAAO,EAAPA;AAA7B,WAAjC,EAAyES,IAAzE,CAA8E,UAAAC,GAAG,EAAI;AACjF,gBAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACpBjB,cAAAA,QAAQ,CAAC,UAAD,EAAa,UAAb,CAAR;AACAkB,cAAAA,UAAU,CAAC;AAAA,uBAAMC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN;AAAA,eAAD,EAAiC,IAAjC,CAAV;AACH;AACJ,WALD,EAKGC,KALH,CAKS,UAAAC,GAAG;AAAA,mBAAIC,KAAK,CAACD,GAAD,CAAT;AAAA,WALZ;AAMH;AACJ;AAEJ,KA3BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AA6BH,CA9BD;;AAiCA,eAAe3B,cAAf","sourcesContent":["import React from 'react'\nimport CreateMementosView from './CreateMementos-view'\nimport axios from 'axios'\n\nconst CreateMementos = ({ owner, selectedPhotos, cities, setError, message }) => {\n    return <CreateMementosView owner={owner} message={message}\n        createMemento={() => {\n            if (!document.querySelector('select').selectedIndex) {\n                setError('ERR_EDIT', 'Select a city')\n                return\n            } else {\n                const city = cities[document.querySelector('select').selectedIndex - 1].city\n                const country = cities[document.querySelector('select').selectedIndex - 1].country\n                const description = document.querySelector('textarea').value\n                const photos = selectedPhotos.map(p => p.id)\n\n                if (!photos.length) {\n                    setError('ERR_EDIT', 'Select one or more photos')\n                    return\n                } else if (!description) {\n                    setError('ERR_EDIT', 'Write about your trip')\n                    return\n                } else {\n                    axios.post(`/mementos/${owner}`, { description, photos, city, country }).then(res => {\n                        if (res.status === 200) {\n                            setError('ERR_EDIT', 'Success!')\n                            setTimeout(() => window.location.reload(), 1000)\n                        }\n                    }).catch(err => alert(err))\n                }\n            }\n\n        }}\n    />\n}\n\n\nexport default CreateMementos"]},"metadata":{},"sourceType":"module"}