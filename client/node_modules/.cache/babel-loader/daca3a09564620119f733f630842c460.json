{"ast":null,"code":"import _objectSpread from \"/Users/Overseer/Desktop/vievacance/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/Overseer/Desktop/vievacance/client/src/components/ManageMementos/EditMementos/EditMementos-container.js\";\nimport EditMementosView from './EditMementos-view.js';\nimport axios from 'axios';\nimport React from 'react';\n\nvar EditMementos = function EditMementos(_ref) {\n  var owner = _ref.owner,\n      photos = _ref.photos,\n      title = _ref.title,\n      description = _ref.description,\n      id = _ref.id,\n      profilePicture = _ref.profilePicture,\n      username = _ref.username,\n      onClick = _ref.onClick,\n      loadData = _ref.loadData,\n      selectedPhotos = _ref.selectedPhotos,\n      cities = _ref.cities,\n      _id = _ref._id;\n  axios.get(\"/photos/\".concat(owner)).then(function (res) {\n    loadData(res.data.map(function (p) {\n      return photos.includes(p.id) ? _objectSpread({}, p, {\n        active: true\n      }) : p;\n    }), 'PHOTOS');\n  });\n  axios.get(\"/globeData\").then(function (res) {\n    loadData(res.data.map(function (c) {\n      return {\n        city: c.city,\n        country: c.country,\n        active: c.city + ', ' + c.country === title\n      };\n    }), 'CITIES');\n  }).catch(function (err) {\n    return alert(err);\n  });\n  return React.createElement(EditMementosView, {\n    owner: owner,\n    photos: photos,\n    title: title,\n    description: description,\n    editMemento: function editMemento() {\n      var city = cities[document.querySelector('select').selectedIndex - 1].city;\n      var country = cities[document.querySelector('select').selectedIndex - 1].country;\n      var description = document.querySelector('textarea').value;\n      var photos = selectedPhotos.map(function (p) {\n        return p.id;\n      });\n      axios.post(\"/mementos/edit/\".concat(_id), {\n        description: description,\n        photos: photos,\n        city: city,\n        country: country\n      }).then(function (res) {\n        return alert(res.data);\n      }).catch(function (err) {\n        return alert(err);\n      });\n    },\n    id: id,\n    profilePicture: profilePicture,\n    username: username,\n    onClick: onClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  });\n};\n\nexport default EditMementos;","map":{"version":3,"sources":["/Users/Overseer/Desktop/vievacance/client/src/components/ManageMementos/EditMementos/EditMementos-container.js"],"names":["EditMementosView","axios","React","EditMementos","owner","photos","title","description","id","profilePicture","username","onClick","loadData","selectedPhotos","cities","_id","get","then","res","data","map","p","includes","active","c","city","country","catch","err","alert","document","querySelector","selectedIndex","value","post"],"mappings":"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","sourcesContent":["import EditMementosView from './EditMementos-view.js'\nimport axios from 'axios'\nimport React from 'react'\n\nconst EditMementos = ({ owner, photos, title, description, id, profilePicture, username, onClick, loadData, selectedPhotos, cities, _id }) => {\n    axios.get(`/photos/${owner}`).then(res => {\n        loadData(res.data.map(p => {\n            return photos.includes(p.id) ? { ...p, active: true } : p\n        }), 'PHOTOS')\n    })\n    axios.get(`/globeData`).then(res => {\n        loadData(res.data.map(c => {\n            return {\n                city: c.city,\n                country: c.country,\n                active: c.city + ', ' + c.country === title\n            }\n        }), 'CITIES')\n    }).catch(err => alert(err))\n\n    return <EditMementosView owner={owner} photos={photos} title={title} description={description}\n        editMemento={() => {\n            const city = cities[document.querySelector('select').selectedIndex - 1].city\n            const country = cities[document.querySelector('select').selectedIndex - 1].country\n            const description = document.querySelector('textarea').value\n            const photos = selectedPhotos.map(p => p.id)\n            axios.post(`/mementos/edit/${_id}`, { description, photos, city, country }).then(res => alert(res.data))\n                .catch(err => alert(err))\n        }}\n        id={id} profilePicture={profilePicture} username={username} onClick={onClick} />\n}\n\n\nexport default EditMementos\n"]},"metadata":{},"sourceType":"module"}