{"ast":null,"code":"import _objectSpread from \"/Users/Overseer/Desktop/vievacance/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/Overseer/Desktop/vievacance/client/src/routes/Explore/Explore.js\";\nimport React from 'react';\nimport axios from 'axios'; // import 'bulma/css/bulma.css'\n\nimport NavbarOther from '../../components/Navbar/NavbarOther';\nimport { connect } from 'react-redux';\nimport { loadData as _loadData, setSignedIn as _setSignedIn, setViewer as _setViewer, newSlide as _newSlide } from '../../actions';\nimport Footer from '../../components/Footer';\nimport Memento from '../../components/Cards/Mementos';\nimport Banners from '../../components/Banners';\nimport Searchbar from '../../components/Searchbar';\nimport bg from '../../assets/the-colours-of-amsterdam.jpg';\n\nvar City = function City(_ref) {\n  var loadData = _ref.loadData,\n      setSignedIn = _ref.setSignedIn,\n      setViewer = _ref.setViewer,\n      newSlide = _ref.newSlide;\n\n  window.onload = function () {\n    function waitForUser(done) {\n      if (done) {\n        setSignedIn(done);\n        setViewer(done);\n        return;\n      }\n\n      axios.get('/users', {\n        withCredentials: true\n      }).then(function (res) {\n        // setSignedIn(res.data._id)\n        // setViewer(res.data._id)\n        waitForUser(res.data._id);\n      }).catch(function (err) {\n        return alert(err);\n      });\n    }\n\n    waitForUser(false);\n    axios.get(\"/globeData\").then(function (res) {\n      loadData(res.data.map(function (c) {\n        return {\n          city: c.city,\n          country: c.country,\n          popularity: c.popularity\n        };\n      }), 'CITIES');\n    }).catch(function (err) {\n      return alert(err);\n    });\n    axios.get('/mementos').then(function (res) {\n      if (res.data.length) {\n        res.data.map(function (mem) {\n          newSlide();\n          axios.get(\"/users/\".concat(mem.owner)).then(function (r) {\n            loadData(_objectSpread({}, mem, {\n              username: r.data.username,\n              profilePicture: r.data.profilePicture\n            }), 'MEMENTOS');\n          });\n        });\n      }\n    }).catch(function (err) {\n      return alert(err);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    style: {\n      backgroundImage: \"url(\".concat(bg, \")\")\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(NavbarOther, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(Searchbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(Banners, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"container\",\n    style: {\n      height: '50vh',\n      overflow: 'scroll'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \" \", React.createElement(Memento, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  })), React.createElement(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }));\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setSignedIn: function setSignedIn(id) {\n      return dispatch(_setSignedIn(id));\n    },\n    loadData: function loadData(id, label) {\n      return dispatch(_loadData(id, label));\n    },\n    setViewer: function setViewer(id) {\n      return dispatch(_setViewer(id));\n    },\n    newSlide: function newSlide() {\n      return dispatch(_newSlide());\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(City);","map":{"version":3,"sources":["/Users/Overseer/Desktop/vievacance/client/src/routes/Explore/Explore.js"],"names":["React","axios","NavbarOther","connect","loadData","setSignedIn","setViewer","newSlide","Footer","Memento","Banners","Searchbar","bg","City","window","onload","waitForUser","done","get","withCredentials","then","res","data","_id","catch","err","alert","map","c","city","country","popularity","length","mem","owner","r","username","profilePicture","backgroundImage","height","overflow","mapDispatchToProps","dispatch","id","label"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios'\n// import 'bulma/css/bulma.css'\nimport NavbarOther from '../../components/Navbar/NavbarOther'\nimport { connect } from 'react-redux'\nimport { loadData, setSignedIn, setViewer, newSlide } from '../../actions'\nimport Footer from '../../components/Footer'\nimport Memento from '../../components/Cards/Mementos'\nimport Banners from '../../components/Banners'\nimport Searchbar from '../../components/Searchbar'\nimport bg from '../../assets/the-colours-of-amsterdam.jpg'\n\nconst City = ({ loadData, setSignedIn, setViewer, newSlide }) => {\n\n    window.onload = () => {\n        function waitForUser(done) {\n            if (done) {\n                setSignedIn(done)\n                setViewer(done)\n                return\n            }\n            axios.get('/users', { withCredentials: true }).then(res => {\n                // setSignedIn(res.data._id)\n                // setViewer(res.data._id)\n                waitForUser(res.data._id)\n            }).catch(err => alert(err))\n        }\n        waitForUser(false)\n\n        axios.get(`/globeData`).then(res => {\n            loadData(res.data.map(c => {\n                return {\n                    city: c.city,\n                    country: c.country,\n                    popularity: c.popularity\n                }\n            }), 'CITIES')\n        }).catch(err => alert(err))\n\n        axios.get('/mementos').then(res => {\n            if (res.data.length) {\n                res.data.map((mem) => {\n                    newSlide()\n                    axios.get(`/users/${mem.owner}`).then(r => {\n                        loadData({\n                            ...mem,\n                            username: r.data.username,\n                            profilePicture: r.data.profilePicture\n                        }, 'MEMENTOS')\n                    })\n                })\n            }\n        }).catch(err => alert(err))\n    }\n\n\n    return (<div style={{\n        backgroundImage: `url(${bg})`\n    }}>\n        <NavbarOther />\n        <Searchbar />\n        <Banners />\n        <div className=\"container\" style={{\n            height: '50vh',\n            overflow: 'scroll'\n        }}> <Memento />\n        </div>\n        <Footer />\n    </div>)\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setSignedIn: (id) => dispatch(setSignedIn(id)),\n        loadData: (id, label) => dispatch(loadData(id, label)),\n        setViewer: id => dispatch(setViewer(id)),\n        newSlide: () => dispatch(newSlide())\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(City)"]},"metadata":{},"sourceType":"module"}